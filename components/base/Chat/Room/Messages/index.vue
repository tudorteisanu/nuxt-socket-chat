<template>
  <div id="messages" class="mt-2 p-2 relative h-full overflow-y-auto" style="height: calc(100vh - 186px);">
    <div v-if="messages.length" class="flex flex-col justify-start w-full pb-4">
      <div
        v-for="(message, messageIndex) in messages"
        :key="messageIndex"
        class="max-w-xs mt-2"
        :class="messageBlockClass(message)"
      >
        <div class="shadow-md rounded-md p-2 w-fit" style="width: fit-content" :class="messageClass(message)">
          <div class="break-all">{{message.message}}</div>
          <div
            :class="dateClass(message)" class="text-xs text-gray-600">{{message.createdAt}}</div>
        </div>
      </div>
    </div>
    <div v-else class="flex items-center justify-center flex-col pt-10 ">
        <div class="text-gray-500">
          <svg width="40" height="40" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0001 18C14.4184 18 18.0001 14.4183 18.0001 10C18.0001 5.58172 14.4184 2 10.0001 2C5.58184 2 2.00012 5.58172 2.00012 10C2.00012 14.4183 5.58184 18 10.0001 18ZM7.00012 9C7.55241 9 8.00012 8.55228 8.00012 8C8.00012 7.44772 7.55241 7 7.00012 7C6.44784 7 6.00012 7.44772 6.00012 8C6.00012 8.55228 6.44784 9 7.00012 9ZM14.0001 8C14.0001 8.55228 13.5524 9 13.0001 9C12.4478 9 12.0001 8.55228 12.0001 8C12.0001 7.44772 12.4478 7 13.0001 7C13.5524 7 14.0001 7.44772 14.0001 8ZM6.46459 13.8785C6.85511 14.269 7.48828 14.269 7.8788 13.8785C9.05037 12.7069 10.9499 12.7069 12.1214 13.8785C12.512 14.269 13.1451 14.269 13.5357 13.8785C13.9262 13.4879 13.9262 12.8548 13.5357 12.4642C11.583 10.5116 8.41721 10.5116 6.46459 12.4642C6.07406 12.8548 6.07406 13.4879 6.46459 13.8785Z" fill="currentColor"/>
          </svg>
        </div>
        <div>
          There are no messages.
        </div>
      </div>
  </div>
</template>

<script src="./index.ts" />
